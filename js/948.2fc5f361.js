"use strict";(self["webpackChunkpasswordme"]=self["webpackChunkpasswordme"]||[]).push([[948],{948:function(s,a,e){e.r(a),e.d(a,{default:function(){return n}});var t=function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("div",{staticClass:"container-mac container-all-passwords"},[e("v-btn",{staticClass:"mb-10",attrs:{dark:"",color:"primary",fab:"",right:"",bottom:"",absolute:""},on:{click:function(a){return s.openAddPassword()}}},[e("v-icon",{attrs:{size:"15"}},[s._v("fas fa-plus")])],1),e("h1",[s._v("Todas las Contraseñas")]),e("div",{staticClass:"container-passwords"},[null==s.passwords||0==s.passwords.length?e("div",{staticClass:"message-no-passwords"},[e("v-icon",{attrs:{size:"100"}},[s._v("fas fa-frown")]),e("h4",[s._v("Aún no tienes contraseñas")]),e("p",[s._v("Puedes intentarlo con el botón de abajo a la derecha")])],1):e("div",{staticClass:"group-passwords"},s._l(s.passwords,(function(a){return e("v-card",{key:a.title,staticClass:"mx-2 my-2",attrs:{width:"350"},on:{click:function(e){return s.seePassword(a)}}},[e("v-img",{attrs:{height:"100",src:a.urlLogo}}),e("v-card-title",[e("h5",[s._v(s._s(a.title))])]),e("v-card-text",[e("div",[e("a",{attrs:{href:a.url}},[s._v(s._s(a.url))])]),e("v-chip-group",{attrs:{column:"","show-arrows":""}},s._l(a.id_category,(function(a){return e("v-chip",{key:a,attrs:{color:"accent"}},[s._v(" "+s._s(a)+" ")])})),1)],1)],1)})),1)]),e("v-dialog",{attrs:{"max-width":"700px"},model:{value:s.addPasswordDialog,callback:function(a){s.addPasswordDialog=a},expression:"addPasswordDialog"}},[e("v-card",[e("v-card-title",[e("h4",[s._v("Agregar Contraseña")])]),e("v-card-text",[e("v-container",[e("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:s.passwordFormValid,callback:function(a){s.passwordFormValid=a},expression:"passwordFormValid"}},[e("v-row",[e("v-col",{attrs:{cols:"11"}},[e("v-select",{attrs:{items:s.categories,label:"Selecciona las etiquetas",filled:"",multiple:"","prepend-inner-icon":"fas fa-tag"},scopedSlots:s._u([{key:"selection",fn:function(a){var t=a.item,r=a.index;return[0===r?e("v-chip",[e("span",[s._v(s._s(t))])]):s._e(),1===r?e("span",{staticClass:"grey--text text-caption"},[s._v(" (+"+s._s(s.categories.length-1)+" others) ")]):s._e()]}}]),model:{value:s.passwordsList.passwordArray.id_category,callback:function(a){s.$set(s.passwordsList.passwordArray,"id_category",a)},expression:"passwordsList.passwordArray.id_category"}})],1),e("v-col",{attrs:{cols:"1"}},[e("v-btn",{staticClass:"mt-3",attrs:{fab:"",small:"",color:"accent"},on:{click:function(a){return s.openAddCategory()}}},[e("v-icon",{attrs:{size:"15"}},[s._v("fas fa-plus")])],1)],1)],1),e("v-text-field",{attrs:{"prepend-inner-icon":"fas fa-bold",label:"Título",rules:s.titleRules,outlined:"",clearable:"",required:""},model:{value:s.passwordsList.passwordArray.title,callback:function(a){s.$set(s.passwordsList.passwordArray,"title",a)},expression:"passwordsList.passwordArray.title"}}),e("v-text-field",{attrs:{"prepend-inner-icon":"fas fa-laugh",label:"Usuario",outlined:"",clearable:""},model:{value:s.passwordsList.passwordArray.username,callback:function(a){s.$set(s.passwordsList.passwordArray,"username",a)},expression:"passwordsList.passwordArray.username"}}),e("v-text-field",{attrs:{"prepend-inner-icon":"fas fa-at",label:"Correo electrónico",rules:s.emailRules,outlined:"",clearable:""},model:{value:s.passwordsList.passwordArray.email,callback:function(a){s.$set(s.passwordsList.passwordArray,"email",a)},expression:"passwordsList.passwordArray.email"}}),e("v-text-field",{attrs:{"prepend-inner-icon":"fas fa-lock",label:"Contraseña",rules:s.passwordRules,type:"password",outlined:"",clearable:"",required:""},model:{value:s.passwordsList.passwordArray.password,callback:function(a){s.$set(s.passwordsList.passwordArray,"password",a)},expression:"passwordsList.passwordArray.password"}}),e("v-textarea",{attrs:{"prepend-inner-icon":"fas fa-sticky-note",label:"Notas o descripción",outlined:"",clearable:""},model:{value:s.passwordsList.passwordArray.notes,callback:function(a){s.$set(s.passwordsList.passwordArray,"notes",a)},expression:"passwordsList.passwordArray.notes"}}),e("v-text-field",{attrs:{"prepend-inner-icon":"fas fa-link",label:"Sitio web (google.com)",rules:s.urlRules,outlined:"",clearable:"",required:""},model:{value:s.passwordsList.passwordArray.url,callback:function(a){s.$set(s.passwordsList.passwordArray,"url",a)},expression:"passwordsList.passwordArray.url"}})],1)],1)],1),e("v-card-actions",[e("v-spacer"),e("v-btn",{attrs:{color:"error",text:""},on:{click:function(a){return s.closeAddPassword()}}},[s._v(" Cancelar ")]),e("v-btn",{attrs:{color:"primary",text:""},on:{click:function(a){return s.addPassword()}}},[s._v(" Agregar ")])],1)],1)],1),e("v-dialog",{attrs:{"max-width":"700px"},model:{value:s.editPasswordDialog,callback:function(a){s.editPasswordDialog=a},expression:"editPasswordDialog"}},[e("v-card",[e("v-card-title",[e("h4",[s._v("Editar Contraseña")])]),e("v-card-text",[e("v-container",[e("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:s.passwordEditFormValid,callback:function(a){s.passwordEditFormValid=a},expression:"passwordEditFormValid"}},[e("v-row",[e("v-col",{attrs:{cols:"11"}},[e("v-select",{attrs:{items:s.categories,label:"Selecciona las etiquetas",filled:"",multiple:"","prepend-inner-icon":"fas fa-tag"},scopedSlots:s._u([{key:"selection",fn:function(a){var t=a.item,r=a.index;return[0===r?e("v-chip",[e("span",[s._v(s._s(t))])]):s._e(),1===r?e("span",{staticClass:"grey--text text-caption"},[s._v(" (+"+s._s(s.categories.length-1)+" others) ")]):s._e()]}}]),model:{value:s.editingPassword.id_category,callback:function(a){s.$set(s.editingPassword,"id_category",a)},expression:"editingPassword.id_category"}})],1),e("v-col",{attrs:{cols:"1"}},[e("v-btn",{staticClass:"mt-3",attrs:{fab:"",small:"",color:"accent"},on:{click:function(a){return s.openAddCategory()}}},[e("v-icon",{attrs:{size:"15"}},[s._v("fas fa-plus")])],1)],1)],1),e("v-text-field",{attrs:{"prepend-inner-icon":"fas fa-bold",label:"Título",rules:s.titleRules,outlined:"",clearable:"",required:""},model:{value:s.editingPassword.title,callback:function(a){s.$set(s.editingPassword,"title",a)},expression:"editingPassword.title"}}),e("v-text-field",{attrs:{"prepend-inner-icon":"fas fa-laugh",label:"Usuario",outlined:"",clearable:""},model:{value:s.editingPassword.username,callback:function(a){s.$set(s.editingPassword,"username",a)},expression:"editingPassword.username"}}),e("v-text-field",{attrs:{"prepend-inner-icon":"fas fa-at",label:"Correo electrónico",rules:s.emailRules,outlined:"",clearable:""},model:{value:s.editingPassword.email,callback:function(a){s.$set(s.editingPassword,"email",a)},expression:"editingPassword.email"}}),e("v-text-field",{attrs:{"prepend-inner-icon":"fas fa-lock",label:"Contraseña",rules:s.passwordRules,type:"password",outlined:"",clearable:"",required:""},model:{value:s.editingPassword.password,callback:function(a){s.$set(s.editingPassword,"password",a)},expression:"editingPassword.password"}}),e("v-textarea",{attrs:{"prepend-inner-icon":"fas fa-sticky-note",label:"Notas o descripción",outlined:"",clearable:""},model:{value:s.editingPassword.notes,callback:function(a){s.$set(s.editingPassword,"notes",a)},expression:"editingPassword.notes"}}),e("v-text-field",{attrs:{"prepend-inner-icon":"fas fa-link",label:"Sitio web (google.com)",rules:s.urlRules,outlined:"",clearable:"",required:""},model:{value:s.editingPassword.url,callback:function(a){s.$set(s.editingPassword,"url",a)},expression:"editingPassword.url"}})],1)],1)],1),e("v-card-actions",[e("v-spacer"),e("v-btn",{attrs:{color:"error",text:""},on:{click:function(a){return s.closeEditPassword()}}},[s._v(" Cancelar ")]),e("v-btn",{attrs:{color:"primary",text:""},on:{click:function(a){return s.editPassword()}}},[s._v(" Editar ")])],1)],1)],1),e("v-dialog",{attrs:{"max-width":"700px"},model:{value:s.seePasswordDialog,callback:function(a){s.seePasswordDialog=a},expression:"seePasswordDialog"}},[e("v-card",[e("v-card-title",[e("h4",[s._v(s._s(s.actualPassword.title))])]),e("v-card-text",{staticClass:"mt-1"},[e("div",{staticClass:"container-info-password"},[e("div",{staticClass:"container-info-password-inside"},[e("v-chip-group",{attrs:{column:"","show-arrows":""}},s._l(s.actualPassword.id_category,(function(a){return e("v-chip",{key:a,attrs:{color:"accent"}},[s._v(" "+s._s(a)+" ")])})),1),e("v-text-field",{staticClass:"mt-3",attrs:{"prepend-inner-icon":"fas fa-laugh",label:"Usuario",outlined:"",readonly:"",value:s.actualPassword.username}}),e("v-text-field",{attrs:{"prepend-inner-icon":"fas fa-at",label:"Correo electrónico",outlined:"",readonly:"",value:s.actualPassword.email}}),e("v-text-field",{attrs:{"prepend-inner-icon":"fas fa-lock",label:"Contraseña",outlined:"",readonly:"","append-icon":(s.showPassword,"fas fa-eye"),type:s.showPassword?"text":"password",value:s.actualPassword.password},on:{"click:append":function(a){return s.decryptPassword(s.actualPassword.password)}}}),e("v-textarea",{attrs:{"prepend-inner-icon":"fas fa-sticky-note",label:"Notas o descripción",outlined:"",readonly:"",value:s.actualPassword.notes}}),e("v-text-field",{attrs:{"prepend-inner-icon":"fas fa-link",label:"Sitio web",outlined:"",readonly:"","append-icon":"fas fa-external-link-alt",value:s.actualPassword.url},on:{"click:append":function(a){return s.goTo(s.actualPassword.url)}}})],1)])]),e("v-card-actions",[e("v-spacer"),e("v-btn",{attrs:{color:"error",text:""},on:{click:function(a){return s.openDeletePassword()}}},[s._v(" Eliminar ")]),e("v-btn",{attrs:{color:"warning",text:""},on:{click:function(a){return s.openEditPassword()}}},[s._v(" Editar ")]),e("v-btn",{attrs:{color:"primary",text:""},on:{click:function(a){return s.closeSeePassword()}}},[s._v(" OK ")])],1)],1)],1),e("v-dialog",{attrs:{"max-width":"700px"},model:{value:s.addCategoryDialog,callback:function(a){s.addCategoryDialog=a},expression:"addCategoryDialog"}},[e("v-card",[e("v-card-title",[e("h4",[s._v("Nueva Categoría")])]),e("v-card-text",[e("v-container",[e("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:s.categoryFormValid,callback:function(a){s.categoryFormValid=a},expression:"categoryFormValid"}},[e("v-text-field",{attrs:{"prepend-inner-icon":"fas fa-tag",label:"Categoría",rules:s.categoryRules,outlined:"",clearable:"",required:""},model:{value:s.category,callback:function(a){s.category=a},expression:"category"}})],1)],1)],1),e("v-card-actions",[e("v-spacer"),e("v-btn",{attrs:{color:"error",text:""},on:{click:function(a){return s.closeAddCategory()}}},[s._v(" Cancelar ")]),e("v-btn",{attrs:{color:"primary",text:""},on:{click:function(a){return s.addCategory()}}},[s._v(" Agregar ")])],1)],1)],1),e("v-dialog",{attrs:{"max-width":"500px"},model:{value:s.deletePasswordDialog,callback:function(a){s.deletePasswordDialog=a},expression:"deletePasswordDialog"}},[e("v-card",[e("v-card-title",[e("h4",[s._v("Eliminar contraseña")])]),e("v-card-text",[e("v-container",[s._v(" ¿Estás seguro de eliminar esta contraseña? ")])],1),e("v-card-actions",[e("v-spacer"),e("v-btn",{attrs:{color:"primary",text:""},on:{click:function(a){return s.closeDeletePassword()}}},[s._v(" Cancelar ")]),e("v-btn",{attrs:{color:"error",text:""},on:{click:function(a){return s.deletePassword(s.actualPassword._id)}}},[s._v(" Eliminar ")])],1)],1)],1),e("v-snackbar",{attrs:{timeout:"3000"},scopedSlots:s._u([{key:"action",fn:function(a){var t=a.attrs;return[e("v-btn",s._b({attrs:{color:"blue",text:""},on:{click:function(a){s.snackbarError=!1}}},"v-btn",t,!1),[s._v(" Cerrar ")])]}}]),model:{value:s.snackbarError,callback:function(a){s.snackbarError=a},expression:"snackbarError"}},[s._v(" "+s._s(s.error)+" ")])],1)},r=[],o={name:"AllPasswords",data:()=>({addPasswordDialog:!1,seePasswordDialog:!1,editPasswordDialog:!1,deletePasswordDialog:!1,addCategoryDialog:!1,passwordFormValid:!0,passwordEditFormValid:!0,categoryFormValid:!0,snackbarError:!1,showPassword:!1,error:"",category:"",categories:[],actualPassword:[],editingPassword:[],passwords:[],encryptedPassword:"",categoryRules:[s=>s&&s.length>0||"La categoría debe ser de al menos 1 caracter"],titleRules:[s=>!!s||"Escribe un título para la contraseña"],emailRules:[s=>/.+@.+\..+/.test(s)||"Correo electrónico inválido"],passwordRules:[s=>!!s||"Escribe la contraseña"],urlRules:[s=>!!s||"Escribe el sitio web donde se puede utilizar"],passwordsList:{id_user:"",passwordArray:{id_category:[],title:"",username:"",email:"",password:"",notes:"",visits:0,url:"",urlLogo:"",date:Date.now()}}}),computed:{},created(){this.getCategories(),this.getPasswords()},methods:{openAddPassword(){this.addPasswordDialog=!0},closeAddPassword(){this.addPasswordDialog=!1},openSeePassword(s){this.actualPassword=s,this.seePasswordDialog=!0},closeSeePassword(){this.actualPassword=[],this.showPassword=!1,this.seePasswordDialog=!1},openEditPassword(){this.editingPassword=this.actualPassword,this.editingPassword.password="",this.editPasswordDialog=!0},closeEditPassword(){this.editingPassword=[],this.editPasswordDialog=!1},openDeletePassword(){this.deletePasswordDialog=!0},closeDeletePassword(){this.actualPassword=[],this.deletePasswordDialog=!1},async getPasswords(){try{let s=await this.$store.getters.getIDUser;const a={headers:{"Content-Type":"application/json",AuthToken:this.$store.getters.getAuthToken}},e=await this.axios.get("passwords/"+s,a);this.passwords=e.data.data.passwords}catch(s){this.error=s.response.data.error,this.snackbarError=!0}},async seePassword(s){this.openSeePassword(s)},async addPassword(){if(this.$refs.form.validate()&&this.passwordFormValid)try{this.passwordsList.id_user=this.$store.getters.getIDUser;const s={headers:{"Content-Type":"application/json",AuthToken:this.$store.getters.getAuthToken}};await this.axios.post("passwords/addPassword/",this.passwordsList,s);this.getPasswords(),this.$refs.form.reset(),this.addPasswordDialog=!1}catch(s){this.error=s.response.data.error,this.snackbarError=!0}},async editPassword(){if(this.$refs.form.validate()&&this.passwordEditFormValid)try{let s=this.$store.getters.getIDUser,a=this.editingPassword;const e={headers:{"Content-Type":"application/json",AuthToken:this.$store.getters.getAuthToken}};await this.axios.post("passwords/editPassword/",{id_user:s,newPassword:a},e);this.getPasswords(),this.editingPassword=[],this.actualPassword=[],this.showPassword=!1,this.seePasswordDialog=!1,this.editPasswordDialog=!1}catch(s){this.error=s.response.data.error,this.snackbarError=!0}},async deletePassword(s){try{let a=await this.$store.getters.getIDUser;const e={headers:{"Content-Type":"application/json",AuthToken:this.$store.getters.getAuthToken}};await this.axios.post("passwords/deletePassword/",{id_user:a,id_password:s},e);this.getPasswords(),this.actualPassword=[],this.seePasswordDialog=!1,this.deletePasswordDialog=!1}catch(a){this.error=a.response.data.error,this.snackbarError=!0}},async decryptPassword(s){try{this.encryptedPassword=s;const a={headers:{"Content-Type":"application/json",AuthToken:this.$store.getters.getAuthToken}},e=await this.axios.post("passwords/decryptPassword/",{password:s},a);this.showPassword=!0,this.actualPassword.password=e.data.data.decryptedPassword,setTimeout((()=>{this.showPassword=!1,this.actualPassword.password=s,this.encryptedPassword=""}),3e3)}catch(a){this.error=a.response.data.error,this.snackbarError=!0}},openAddCategory(){this.addCategoryDialog=!0},closeAddCategory(){this.category="",this.addCategoryDialog=!1},async getCategories(){try{let s=await this.$store.getters.getIDUser;const a=await this.axios.get("category/"+s);a.data.data.categoriesObject.forEach((s=>this.categories.push(s.category))),this.categories=this.categories.sort()}catch(s){this.error=s.response.data.error,this.snackbarError=!0}},async addCategory(){if(this.$refs.form.validate()&&this.categoryFormValid)try{let s=await this.$store.getters.getIDUser,a=this.category;await this.axios.post("category/addCategory/",{id_user:s,category:a});await this.getCategories(),this.category="",this.addCategoryDialog=!1}catch(s){this.error=s.response.data.error,this.snackbarError=!0}},async goTo(s){window.open("https://"+s,"_blank")}}},i=o,d=e(1001),l=(0,d.Z)(i,t,r,!1,null,null,null),n=l.exports}}]);
//# sourceMappingURL=948.2fc5f361.js.map