"use strict";(self["webpackChunkpasswordme"]=self["webpackChunkpasswordme"]||[]).push([[948],{80948:function(e,s,a){a.r(s),a.d(s,{default:function(){return u}});var r=function(){var e=this,s=e.$createElement,a=e._self._c||s;return a("div",{staticClass:"container-mac container-all-passwords"},[a("v-btn",{staticClass:"mb-10",attrs:{dark:"",color:"primary",fab:"",right:"",bottom:"",absolute:""},on:{click:function(s){return e.openAddPassword()}}},[a("v-icon",{attrs:{size:"15"}},[e._v("fas fa-plus")])],1),a("h1",[e._v("Todas las Contraseñas")]),a("div",{staticClass:"container-passwords"},[null==e.passwords||0==e.passwords.length?a("div",{staticClass:"message-no-passwords"},[a("v-icon",{attrs:{size:"100"}},[e._v("fas fa-frown")]),a("h4",[e._v("Aún no tienes contraseñas")]),a("p",[e._v("Puedes intentarlo con el botón de abajo a la derecha")])],1):a("div",{staticClass:"group-passwords"},e._l(e.passwords,(function(s){return a("v-card",{key:s.title,staticClass:"mx-2 my-2",attrs:{width:"350"},on:{click:function(a){return e.seePassword(s)}}},[a("v-img",{attrs:{height:"100",src:s.urlLogo}}),a("v-card-title",[a("h5",[e._v(e._s(s.title))])]),a("v-card-text",[a("div",[a("a",{attrs:{href:s.url}},[e._v(e._s(s.url))])]),a("v-chip-group",{attrs:{column:"","show-arrows":""}},e._l(s.id_category,(function(s){return a("v-chip",{key:s,attrs:{color:"accent"}},[e._v(" "+e._s(s)+" ")])})),1)],1)],1)})),1)]),a("v-dialog",{attrs:{"max-width":"700px"},model:{value:e.addPasswordDialog,callback:function(s){e.addPasswordDialog=s},expression:"addPasswordDialog"}},[a("v-card",[a("v-card-title",[a("h4",[e._v("Agregar Contraseña")])]),a("v-card-text",[a("v-container",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.passwordFormValid,callback:function(s){e.passwordFormValid=s},expression:"passwordFormValid"}},[a("v-row",[a("v-col",{attrs:{cols:"11"}},[a("v-select",{attrs:{items:e.categories,label:"Selecciona las etiquetas",filled:"",multiple:"","prepend-inner-icon":"fas fa-tag"},scopedSlots:e._u([{key:"selection",fn:function(s){var r=s.item,t=s.index;return[0===t?a("v-chip",[a("span",[e._v(e._s(r))])]):e._e(),1===t?a("span",{staticClass:"grey--text text-caption"},[e._v(" (+"+e._s(e.categories.length-1)+" others) ")]):e._e()]}}]),model:{value:e.passwordsList.passwordArray.id_category,callback:function(s){e.$set(e.passwordsList.passwordArray,"id_category",s)},expression:"passwordsList.passwordArray.id_category"}})],1),a("v-col",{attrs:{cols:"1"}},[a("v-btn",{staticClass:"mt-3",attrs:{fab:"",small:"",color:"accent"},on:{click:function(s){return e.openAddCategory()}}},[a("v-icon",{attrs:{size:"15"}},[e._v("fas fa-plus")])],1)],1)],1),a("v-text-field",{attrs:{"prepend-inner-icon":"fas fa-bold",label:"Título",rules:e.titleRules,outlined:"",clearable:"",required:""},model:{value:e.passwordsList.passwordArray.title,callback:function(s){e.$set(e.passwordsList.passwordArray,"title",s)},expression:"passwordsList.passwordArray.title"}}),a("v-text-field",{attrs:{"prepend-inner-icon":"fas fa-laugh",label:"Usuario",outlined:"",clearable:""},model:{value:e.passwordsList.passwordArray.username,callback:function(s){e.$set(e.passwordsList.passwordArray,"username",s)},expression:"passwordsList.passwordArray.username"}}),a("v-text-field",{attrs:{"prepend-inner-icon":"fas fa-at",label:"Correo electrónico",rules:e.emailRules,outlined:"",clearable:""},model:{value:e.passwordsList.passwordArray.email,callback:function(s){e.$set(e.passwordsList.passwordArray,"email",s)},expression:"passwordsList.passwordArray.email"}}),a("v-text-field",{attrs:{"prepend-inner-icon":"fas fa-lock",label:"Contraseña",rules:e.passwordRules,type:"password",outlined:"",clearable:"",required:""},model:{value:e.passwordsList.passwordArray.password,callback:function(s){e.$set(e.passwordsList.passwordArray,"password",s)},expression:"passwordsList.passwordArray.password"}}),a("v-textarea",{attrs:{"prepend-inner-icon":"fas fa-sticky-note",label:"Notas o descripción",outlined:"",clearable:""},model:{value:e.passwordsList.passwordArray.notes,callback:function(s){e.$set(e.passwordsList.passwordArray,"notes",s)},expression:"passwordsList.passwordArray.notes"}}),a("v-text-field",{attrs:{"prepend-inner-icon":"fas fa-link",label:"Sitio web (google.com)",rules:e.urlRules,outlined:"",clearable:"",required:""},model:{value:e.passwordsList.passwordArray.url,callback:function(s){e.$set(e.passwordsList.passwordArray,"url",s)},expression:"passwordsList.passwordArray.url"}})],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"error",text:""},on:{click:function(s){return e.closeAddPassword()}}},[e._v(" Cancelar ")]),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(s){return e.addPassword()}}},[e._v(" Agregar ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"700px"},model:{value:e.editPasswordDialog,callback:function(s){e.editPasswordDialog=s},expression:"editPasswordDialog"}},[a("v-card",[a("v-card-title",[a("h4",[e._v("Editar Contraseña")])]),a("v-card-text",[a("v-container",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.passwordEditFormValid,callback:function(s){e.passwordEditFormValid=s},expression:"passwordEditFormValid"}},[a("v-row",[a("v-col",{attrs:{cols:"11"}},[a("v-select",{attrs:{items:e.categories,label:"Selecciona las etiquetas",filled:"",multiple:"","prepend-inner-icon":"fas fa-tag"},scopedSlots:e._u([{key:"selection",fn:function(s){var r=s.item,t=s.index;return[0===t?a("v-chip",[a("span",[e._v(e._s(r))])]):e._e(),1===t?a("span",{staticClass:"grey--text text-caption"},[e._v(" (+"+e._s(e.categories.length-1)+" others) ")]):e._e()]}}]),model:{value:e.editingPassword.id_category,callback:function(s){e.$set(e.editingPassword,"id_category",s)},expression:"editingPassword.id_category"}})],1),a("v-col",{attrs:{cols:"1"}},[a("v-btn",{staticClass:"mt-3",attrs:{fab:"",small:"",color:"accent"},on:{click:function(s){return e.openAddCategory()}}},[a("v-icon",{attrs:{size:"15"}},[e._v("fas fa-plus")])],1)],1)],1),a("v-text-field",{attrs:{"prepend-inner-icon":"fas fa-bold",label:"Título",rules:e.titleRules,outlined:"",clearable:"",required:""},model:{value:e.editingPassword.title,callback:function(s){e.$set(e.editingPassword,"title",s)},expression:"editingPassword.title"}}),a("v-text-field",{attrs:{"prepend-inner-icon":"fas fa-laugh",label:"Usuario",outlined:"",clearable:""},model:{value:e.editingPassword.username,callback:function(s){e.$set(e.editingPassword,"username",s)},expression:"editingPassword.username"}}),a("v-text-field",{attrs:{"prepend-inner-icon":"fas fa-at",label:"Correo electrónico",rules:e.emailRules,outlined:"",clearable:""},model:{value:e.editingPassword.email,callback:function(s){e.$set(e.editingPassword,"email",s)},expression:"editingPassword.email"}}),a("v-text-field",{attrs:{"prepend-inner-icon":"fas fa-lock",label:"Contraseña",rules:e.passwordRules,type:"password",outlined:"",clearable:"",required:""},model:{value:e.editingPassword.password,callback:function(s){e.$set(e.editingPassword,"password",s)},expression:"editingPassword.password"}}),a("v-textarea",{attrs:{"prepend-inner-icon":"fas fa-sticky-note",label:"Notas o descripción",outlined:"",clearable:""},model:{value:e.editingPassword.notes,callback:function(s){e.$set(e.editingPassword,"notes",s)},expression:"editingPassword.notes"}}),a("v-text-field",{attrs:{"prepend-inner-icon":"fas fa-link",label:"Sitio web (google.com)",rules:e.urlRules,outlined:"",clearable:"",required:""},model:{value:e.editingPassword.url,callback:function(s){e.$set(e.editingPassword,"url",s)},expression:"editingPassword.url"}})],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"error",text:""},on:{click:function(s){return e.closeEditPassword()}}},[e._v(" Cancelar ")]),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(s){return e.editPassword()}}},[e._v(" Editar ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"700px"},model:{value:e.seePasswordDialog,callback:function(s){e.seePasswordDialog=s},expression:"seePasswordDialog"}},[a("v-card",[a("v-card-title",[a("h4",[e._v(e._s(e.actualPassword.title))])]),a("v-card-text",{staticClass:"mt-1"},[a("div",{staticClass:"container-info-password"},[a("div",{staticClass:"container-info-password-inside"},[a("v-chip-group",{attrs:{column:"","show-arrows":""}},e._l(e.actualPassword.id_category,(function(s){return a("v-chip",{key:s,attrs:{color:"accent"}},[e._v(" "+e._s(s)+" ")])})),1),a("v-text-field",{staticClass:"mt-3",attrs:{"prepend-inner-icon":"fas fa-laugh",label:"Usuario",outlined:"",readonly:"",value:e.actualPassword.username}}),a("v-text-field",{attrs:{"prepend-inner-icon":"fas fa-at",label:"Correo electrónico",outlined:"",readonly:"",value:e.actualPassword.email}}),a("v-text-field",{attrs:{"prepend-inner-icon":"fas fa-lock",label:"Contraseña",outlined:"",readonly:"","append-icon":(e.showPassword,"fas fa-eye"),type:e.showPassword?"text":"password",value:e.actualPassword.password},on:{"click:append":function(s){return e.decryptPassword(e.actualPassword.password)}}}),a("v-textarea",{attrs:{"prepend-inner-icon":"fas fa-sticky-note",label:"Notas o descripción",outlined:"",readonly:"",value:e.actualPassword.notes}}),a("v-text-field",{attrs:{"prepend-inner-icon":"fas fa-link",label:"Sitio web",outlined:"",readonly:"","append-icon":"fas fa-external-link-alt",value:e.actualPassword.url},on:{"click:append":function(s){return e.goTo(e.actualPassword.url)}}})],1)])]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"error",text:""},on:{click:function(s){return e.openDeletePassword()}}},[e._v(" Eliminar ")]),a("v-btn",{attrs:{color:"warning",text:""},on:{click:function(s){return e.openEditPassword()}}},[e._v(" Editar ")]),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(s){return e.closeSeePassword()}}},[e._v(" OK ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"700px"},model:{value:e.addCategoryDialog,callback:function(s){e.addCategoryDialog=s},expression:"addCategoryDialog"}},[a("v-card",[a("v-card-title",[a("h4",[e._v("Nueva Categoría")])]),a("v-card-text",[a("v-container",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.categoryFormValid,callback:function(s){e.categoryFormValid=s},expression:"categoryFormValid"}},[a("v-text-field",{attrs:{"prepend-inner-icon":"fas fa-tag",label:"Categoría",rules:e.categoryRules,outlined:"",clearable:"",required:""},model:{value:e.category,callback:function(s){e.category=s},expression:"category"}})],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"error",text:""},on:{click:function(s){return e.closeAddCategory()}}},[e._v(" Cancelar ")]),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(s){return e.addCategory()}}},[e._v(" Agregar ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.deletePasswordDialog,callback:function(s){e.deletePasswordDialog=s},expression:"deletePasswordDialog"}},[a("v-card",[a("v-card-title",[a("h4",[e._v("Eliminar contraseña")])]),a("v-card-text",[a("v-container",[e._v(" ¿Estás seguro de eliminar esta contraseña? ")])],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(s){return e.closeDeletePassword()}}},[e._v(" Cancelar ")]),a("v-btn",{attrs:{color:"error",text:""},on:{click:function(s){return e.deletePassword(e.actualPassword._id)}}},[e._v(" Eliminar ")])],1)],1)],1),a("v-snackbar",{attrs:{timeout:"3000"},scopedSlots:e._u([{key:"action",fn:function(s){var r=s.attrs;return[a("v-btn",e._b({attrs:{color:"blue",text:""},on:{click:function(s){e.snackbarError=!1}}},"v-btn",r,!1),[e._v(" Cerrar ")])]}}]),model:{value:e.snackbarError,callback:function(s){e.snackbarError=s},expression:"snackbarError"}},[e._v(" "+e._s(e.error)+" ")])],1)},t=[],o=a(67906),n=a(16198),i=(a(74916),a(77601),a(41539),a(54747),a(2707),{name:"AllPasswords",data:function(){return{addPasswordDialog:!1,seePasswordDialog:!1,editPasswordDialog:!1,deletePasswordDialog:!1,addCategoryDialog:!1,passwordFormValid:!0,passwordEditFormValid:!0,categoryFormValid:!0,snackbarError:!1,showPassword:!1,error:"",category:"",categories:[],actualPassword:[],editingPassword:[],passwords:[],encryptedPassword:"",categoryRules:[function(e){return e&&e.length>0||"La categoría debe ser de al menos 1 caracter"}],titleRules:[function(e){return!!e||"Escribe un título para la contraseña"}],emailRules:[function(e){return/.+@.+\..+/.test(e)||"Correo electrónico inválido"}],passwordRules:[function(e){return!!e||"Escribe la contraseña"}],urlRules:[function(e){return!!e||"Escribe el sitio web donde se puede utilizar"}],passwordsList:{id_user:"",passwordArray:{id_category:[],title:"",username:"",email:"",password:"",notes:"",visits:0,url:"",urlLogo:"",date:Date.now()}}}},computed:{},created:function(){this.getCategories(),this.getPasswords()},methods:{openAddPassword:function(){this.addPasswordDialog=!0},closeAddPassword:function(){this.addPasswordDialog=!1},openSeePassword:function(e){this.actualPassword=e,this.seePasswordDialog=!0},closeSeePassword:function(){this.actualPassword=[],this.showPassword=!1,this.seePasswordDialog=!1},openEditPassword:function(){this.editingPassword=this.actualPassword,this.editingPassword.password="",this.editPasswordDialog=!0},closeEditPassword:function(){this.editingPassword=[],this.editPasswordDialog=!1},openDeletePassword:function(){this.deletePasswordDialog=!0},closeDeletePassword:function(){this.actualPassword=[],this.deletePasswordDialog=!1},getPasswords:function(){var e=this;return(0,n.Z)((0,o.Z)().mark((function s(){var a,r,t;return(0,o.Z)().wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,e.$store.getters.getIDUser;case 3:return a=s.sent,r={headers:{"Content-Type":"application/json",AuthToken:e.$store.getters.getAuthToken}},s.next=7,e.axios.get("passwords/"+a,r);case 7:t=s.sent,e.passwords=t.data.data.passwords,s.next=15;break;case 11:s.prev=11,s.t0=s["catch"](0),e.error=s.t0.response.data.error,e.snackbarError=!0;case 15:case"end":return s.stop()}}),s,null,[[0,11]])})))()},seePassword:function(e){var s=this;return(0,n.Z)((0,o.Z)().mark((function a(){return(0,o.Z)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:s.openSeePassword(e);case 1:case"end":return a.stop()}}),a)})))()},addPassword:function(){var e=this;return(0,n.Z)((0,o.Z)().mark((function s(){var a;return(0,o.Z)().wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(!e.$refs.form.validate()||!e.passwordFormValid){s.next=16;break}return s.prev=1,e.passwordsList.id_user=e.$store.getters.getIDUser,a={headers:{"Content-Type":"application/json",AuthToken:e.$store.getters.getAuthToken}},s.next=6,e.axios.post("passwords/addPassword/",e.passwordsList,a);case 6:s.sent,e.getPasswords(),e.$refs.form.reset(),e.addPasswordDialog=!1,s.next=16;break;case 12:s.prev=12,s.t0=s["catch"](1),e.error=s.t0.response.data.error,e.snackbarError=!0;case 16:case"end":return s.stop()}}),s,null,[[1,12]])})))()},editPassword:function(){var e=this;return(0,n.Z)((0,o.Z)().mark((function s(){var a,r,t;return(0,o.Z)().wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(!e.$refs.form.validate()||!e.passwordEditFormValid){s.next=19;break}return s.prev=1,a=e.$store.getters.getIDUser,r=e.editingPassword,t={headers:{"Content-Type":"application/json",AuthToken:e.$store.getters.getAuthToken}},s.next=6,e.axios.post("passwords/editPassword/",{id_user:a,newPassword:r},t);case 6:s.sent,e.getPasswords(),e.editingPassword=[],e.actualPassword=[],e.showPassword=!1,e.seePasswordDialog=!1,e.editPasswordDialog=!1,s.next=19;break;case 15:s.prev=15,s.t0=s["catch"](1),e.error=s.t0.response.data.error,e.snackbarError=!0;case 19:case"end":return s.stop()}}),s,null,[[1,15]])})))()},deletePassword:function(e){var s=this;return(0,n.Z)((0,o.Z)().mark((function a(){var r,t;return(0,o.Z)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,s.$store.getters.getIDUser;case 3:return r=a.sent,t={headers:{"Content-Type":"application/json",AuthToken:s.$store.getters.getAuthToken}},a.next=7,s.axios.post("passwords/deletePassword/",{id_user:r,id_password:e},t);case 7:a.sent,s.getPasswords(),s.actualPassword=[],s.seePasswordDialog=!1,s.deletePasswordDialog=!1,a.next=18;break;case 14:a.prev=14,a.t0=a["catch"](0),s.error=a.t0.response.data.error,s.snackbarError=!0;case 18:case"end":return a.stop()}}),a,null,[[0,14]])})))()},decryptPassword:function(e){var s=this;return(0,n.Z)((0,o.Z)().mark((function a(){var r,t;return(0,o.Z)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,s.encryptedPassword=e,r={headers:{"Content-Type":"application/json",AuthToken:s.$store.getters.getAuthToken}},a.next=5,s.axios.post("passwords/decryptPassword/",{password:e},r);case 5:t=a.sent,s.showPassword=!0,s.actualPassword.password=t.data.data.decryptedPassword,setTimeout((function(){s.showPassword=!1,s.actualPassword.password=e,s.encryptedPassword=""}),3e3),a.next=15;break;case 11:a.prev=11,a.t0=a["catch"](0),s.error=a.t0.response.data.error,s.snackbarError=!0;case 15:case"end":return a.stop()}}),a,null,[[0,11]])})))()},openAddCategory:function(){this.addCategoryDialog=!0},closeAddCategory:function(){this.category="",this.addCategoryDialog=!1},getCategories:function(){var e=this;return(0,n.Z)((0,o.Z)().mark((function s(){var a,r;return(0,o.Z)().wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,e.$store.getters.getIDUser;case 3:return a=s.sent,s.next=6,e.axios.get("category/"+a);case 6:r=s.sent,r.data.data.categoriesObject.forEach((function(s){return e.categories.push(s.category)})),e.categories=e.categories.sort(),s.next=15;break;case 11:s.prev=11,s.t0=s["catch"](0),e.error=s.t0.response.data.error,e.snackbarError=!0;case 15:case"end":return s.stop()}}),s,null,[[0,11]])})))()},addCategory:function(){var e=this;return(0,n.Z)((0,o.Z)().mark((function s(){var a,r;return(0,o.Z)().wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(!e.$refs.form.validate()||!e.categoryFormValid){s.next=19;break}return s.prev=1,s.next=4,e.$store.getters.getIDUser;case 4:return a=s.sent,r=e.category,s.next=8,e.axios.post("category/addCategory/",{id_user:a,category:r});case 8:return s.sent,s.next=11,e.getCategories();case 11:e.category="",e.addCategoryDialog=!1,s.next=19;break;case 15:s.prev=15,s.t0=s["catch"](1),e.error=s.t0.response.data.error,e.snackbarError=!0;case 19:case"end":return s.stop()}}),s,null,[[1,15]])})))()},goTo:function(e){return(0,n.Z)((0,o.Z)().mark((function s(){return(0,o.Z)().wrap((function(s){while(1)switch(s.prev=s.next){case 0:window.open("https://"+e,"_blank");case 1:case"end":return s.stop()}}),s)})))()}}}),d=i,l=a(1001),c=(0,l.Z)(d,r,t,!1,null,null,null),u=c.exports}}]);
//# sourceMappingURL=948-legacy.ea6a05b9.js.map