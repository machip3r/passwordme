"use strict";(self["webpackChunkpasswordme"]=self["webpackChunkpasswordme"]||[]).push([[619],{9619:function(e,r,s){s.r(r),s.d(r,{default:function(){return c}});var a=function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("div",{staticClass:"container-all-login-view"},[e.isLoginView?s("div",{staticClass:"container-login"},[e._m(0),s("div",{staticClass:"right-color-login"},[s("div",{staticClass:"container-form-login"},[s("v-icon",{staticClass:"mb-1",attrs:{size:"100",color:"primary"}},[e._v("fas fa-lock")]),s("h1",{staticClass:"mb-3"},[e._v("PasswordMe")]),s("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.loginFormValid,callback:function(r){e.loginFormValid=r},expression:"loginFormValid"}},[s("v-text-field",{attrs:{"prepend-inner-icon":"fas fa-laugh",label:"Usuario",rules:e.usernameRules,outlined:"",clearable:"",required:""},model:{value:e.userLogin.username,callback:function(r){e.$set(e.userLogin,"username",r)},expression:"userLogin.username"}}),s("v-text-field",{attrs:{"prepend-inner-icon":"fas fa-lock",label:"Contraseña",rules:e.passwordRules,type:"password",outlined:"",clearable:"",required:""},model:{value:e.userLogin.password,callback:function(r){e.$set(e.userLogin,"password",r)},expression:"userLogin.password"}}),s("v-btn",{staticClass:"button-login",on:{click:function(r){return e.login()}}},[e._v(" Entrar ")])],1),s("p",[e._v("¿No tienes cuenta? "),s("a",{on:{click:function(r){return e.changeView()}}},[e._v("Registrate Aquí")])]),s("v-snackbar",{attrs:{timeout:"3000"},scopedSlots:e._u([{key:"action",fn:function(r){var a=r.attrs;return[s("v-btn",e._b({attrs:{color:"blue",text:""},on:{click:function(r){e.snackbarErrorLogin=!1}}},"v-btn",a,!1),[e._v(" Cerrar ")])]}}],null,!1,3102998964),model:{value:e.snackbarErrorLogin,callback:function(r){e.snackbarErrorLogin=r},expression:"snackbarErrorLogin"}},[e._v(" "+e._s(e.errorLogin)+" ")])],1)])]):s("div",{staticClass:"container-register"},[e._m(1),s("div",{staticClass:"right-color-register"},[s("div",{staticClass:"container-form-register"},[s("v-icon",{staticClass:"mb-1",attrs:{size:"100",color:"background"}},[e._v(" fas fa-lock ")]),s("h1",{staticClass:"mb-3"},[e._v("PasswordMe")]),s("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.registerFormValid,callback:function(r){e.registerFormValid=r},expression:"registerFormValid"}},[s("v-text-field",{attrs:{"prepend-inner-icon":"fas fa-laugh",label:"Usuario",rules:e.usernameRules,outlined:"",clearable:"",required:""},model:{value:e.userRegister.username,callback:function(r){e.$set(e.userRegister,"username",r)},expression:"userRegister.username"}}),s("v-text-field",{attrs:{"prepend-inner-icon":"fas fa-at",label:"Correo electrónico",rules:e.emailRules,outlined:"",clearable:"",required:""},model:{value:e.userRegister.email,callback:function(r){e.$set(e.userRegister,"email",r)},expression:"userRegister.email"}}),s("v-text-field",{attrs:{"prepend-inner-icon":"fas fa-lock",label:"Contraseña",rules:e.passwordRules,type:"password",outlined:"",clearable:"",required:""},model:{value:e.userRegister.password,callback:function(r){e.$set(e.userRegister,"password",r)},expression:"userRegister.password"}}),s("v-btn",{staticClass:"button-register",on:{click:function(r){return e.register()}}},[e._v(" Registrarse ")])],1),s("p",[e._v("¿Tienes cuenta? "),s("a",{on:{click:function(r){return e.changeView()}}},[e._v("Ingresa Aquí")])]),s("v-snackbar",{attrs:{timeout:"3000"},scopedSlots:e._u([{key:"action",fn:function(r){var a=r.attrs;return[s("v-btn",e._b({attrs:{color:"blue",text:""},on:{click:function(r){e.snackbarErrorRegister=!1}}},"v-btn",a,!1),[e._v(" Cerrar ")])]}}]),model:{value:e.snackbarErrorRegister,callback:function(r){e.snackbarErrorRegister=r},expression:"snackbarErrorRegister"}},[e._v(" "+e._s(e.errorRegister)+" ")])],1)])])])},t=[function(){var e=this,r=e.$createElement,a=e._self._c||r;return a("div",{staticClass:"left-color-login"},[a("h1",[e._v("Mantén tus credenciales seguras")]),a("img",{attrs:{src:s(918),alt:"security"}})])},function(){var e=this,r=e.$createElement,a=e._self._c||r;return a("div",{staticClass:"left-color-register"},[a("h1",[e._v("Mantén tus credenciales seguras")]),a("img",{attrs:{src:s(918),alt:"security"}})])}],i={name:"Login",data:()=>({isLoginView:!0,snackbarErrorLogin:!1,snackbarErrorRegister:!1,errorLogin:"",errorRegister:"",loginFormValid:!0,registerFormValid:!0,usernameRules:[e=>!!e||"Escribe tu usuario",e=>e&&e.length>7||"El usuario debe ser de al menos 8 caracteres"],emailRules:[e=>!!e||"Escribe tu correo electrónico",e=>e&&e.length>9||"El correo electrónico debe ser de al menos 10 caracteres",e=>/.+@.+\..+/.test(e)||"Correo electrónico inválido"],passwordRules:[e=>!!e||"Escribe tu contraseña",e=>e&&e.length>9||"La contraseña debe ser de al menos 10 caracteres"],userLogin:{username:"",password:""},userRegister:{username:"",email:"",password:""}}),created(){this.isLoginView=!0},methods:{async login(){if(this.$refs.form.validate()&&this.loginFormValid)try{const e=await this.axios.post("user/login/",this.userLogin);await this.$store.commit("setSession",e.data.data),window.location.reload()}catch(e){this.errorLogin=e.response.data.error,this.snackbarErrorLogin=!0}},async register(){if(this.$refs.form.validate()&&this.registerFormValid)try{const e=await this.axios.post("user/register/",this.userRegister);await this.$store.commit("setSession",e.data.data),window.location.reload()}catch(e){this.errorRegister=e.response.data.error,this.snackbarErrorRegister=!0}},changeView(){this.$refs.form.reset(),this.isLoginView=!this.isLoginView}}},o=i,n=s(1001),l=(0,n.Z)(o,a,t,!1,null,null,null),c=l.exports},918:function(e,r,s){e.exports=s.p+"img/register-img.76234211.png"}}]);
//# sourceMappingURL=619.5d7ed72c.js.map